#include "common.h"
#include <GL/glut.h>

TextField::TextField(){
	content = "";
	x_full = 0;
	y_full = 0;
	width_full = 0;
	height_full = 0;
	x = 0;
	y = 0;
	width = 0;
	height = 0;
}

void TextField::set_pos( int _x, int _y ){
	x_full = _x;
	y_full = _y;
	reshape();
}

void TextField::set_size( int _w, int _h ){
	width_full = _w;
	height_full = _h;
	reshape();
}

void TextField::reshape(){
	x 			= (2*(float)x_full/WINDOW_WIDTH) - 1;
	y 			= (2*(float)y_full/WINDOW_HEIGHT) - 1;
	width 		= (2*(float)width_full/WINDOW_WIDTH);
	height 		= (2*(float)height_full/WINDOW_HEIGHT);
}

void TextField::add( std::string _a ){
	content += _a;
}

void TextField::render(){
	glColor3f( 1.0, 1.0, 1.0 );
	//	std::cout << x << " " << y << " " << width << " " << height << "\n";
	glBegin( GL_QUADS );
		glVertex3f(	x,			y, 				0 );
		glVertex3f(	x + width,	y, 				0 );
		glVertex3f(	x + width,  y + height, 	0 );
		glVertex3f(	x,			y + height, 	0 );
	glEnd();
}

